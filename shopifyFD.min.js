(function(){if(0>document.URL.indexOf("myshopify.com/admin"))return alert("Error: Shopify Admin not found");if("undefined"===typeof Shopify)return alert("Error: Shopify object not found");if("undefined"===typeof jQuery)return alert("Error: jQuery not found");if(document.getElementById("shopifyfd-css"))"object"===typeof Shopify&&Shopify.Flash&&Shopify.Flash.error?Shopify.Flash.error("Error: ShopifyFD already loaded"):alert("Error: ShopifyFD already loaded");else if("classList"in document.createElement("_")&&
(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var q=window.shopifyfdTranslation||{save:"Save",edit:"Edit","delete":"Delete",about_shopifyfd:"About ShopifyFD",select_or_create_metafield:"Select or create a metafield",reload_page:"Reload page to check results.",add_new_metafield:"Add New Metafield",edit_metafield:"Edit Metafield",metafield_deleted:"Metafield deleted",hide_from_sitemap:"Hide from Sitemap"},k={alpha:!1,omega:!1,metafields:{},data:{},
cache:{}};(function(){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.id="shopifyfd-css";a.href="//freakdesign-us.s3.amazonaws.com/shopify/shopifyFD/s/shopifyFD.min.css?20160718";document.getElementsByTagName("head")[0].appendChild(a)})();var X='<label class="metafield-next-label next-label">'+q.add_new_metafield+'</label><input class="ssb" maxlength="20" type="text" id="metafield_namespace" placeholder="namespace" list="fd-dl-namespace"><datalist id="fd-dl-namespace"></datalist><input class="ssb" maxlength="30" type="text" id="metafield_key" placeholder="key" list="fd-dl-key"><datalist id="fd-dl-key"></datalist><textarea class="ssb" id="metafield_value" placeholder="value"></textarea><input type="hidden" id="metafield_id"><a class="btn btn-slim fd-btn savemymeta" id="shopifyjs_savemetafield">'+
q.save+'</a> <a class="int btn btn-slim fd-btn savemymeta" id="shopifyjs_savemetafield_int">Save as Integer</a> <a id="shopifyjs_copymetafield" class="btn btn-slim hide btn-primary tooltip tooltip-bottom"><span class="tooltip-container"><span class="tooltip-label">Copy Metafield to Virtual Clipboard</span></span>Copy</a> <a class="btn btn-slim hide delete tooltip tooltip-bottom" id="shopifyjs_deletemetafield"><span class="tooltip-container"><span class="tooltip-label">There is no undo. Be careful...</span></span>'+
q["delete"]+'</a><p style="margin:1em 0;line-height:1"><small><span class="metafield-save-note">Please note: Using the save button top right will NOT save these metafields. Be sure to click '+q.save+' above.<br><br></span><a id="advanced_meta_features" href="#">Toggle helper buttons</a></small></p><div id="advanced_meta" class="hide"><p style="border-bottom: 1px solid #ccc;margin-bottom:.5em">Handle Helper <a id="adv_clear_cache" style="float:right" href="#">Clear cache</a></p><p><a id="adv_get_collections" class="btn fd-btn" href="">Get collections</a></p><p><a id="adv_get_products" class="btn fd-btn" href="">Get 250 products</a></p></div>',
x='<option value="">'+q.select_or_create_metafield+"</option>",I='<div class="vbox fadein"><fieldset><select>'+x+'</select><input id="mv_namespace" placeholder="namespace" /><input id="mv_key" placeholder="key" /><input id="mv_value" placeholder="value" /></fieldset><span class="mybuttons"><a class="save btn btn-slim" href="#">'+q.save+'</a> <a class="btn btn-slim saveinteger" href="#">'+q.save+' as Integer</a> <a title="'+q["delete"]+'" class="btn-slim delete hidden" href="#">'+q["delete"]+"</a></span></div>",
Y='<div class="vbox-single-card next-card"><div class="next-card__section"><h2 class="next-heading--quarter-margin">Variant Metafields</h2><div id="vrow" class="single-variant">'+I+"</div></div></div>",A=function(a){"undefined"===typeof a&&(a=[location.protocol,"//",location.host,location.pathname].join(""));var c=a.split("/");a=c[c.length-2];c=c.pop();return[a,c,location.search.substring(1)]},D=function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,
"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},r=function(a){if("undefined"!==typeof a&&"function"===typeof Turbolinks)try{Turbolinks.visit(a)}catch(c){return!1}},J=function(a,c){return a.getAttribute("value")?c.getAttribute("value")?a.innerHTML>c.innerHTML?1:-1:1:-1},K=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},f=function(a,c){"function"===typeof Shopify.Flash.error&&"function"===typeof Shopify.Flash.notice&&
(c?Shopify.Flash.error(a):Shopify.Flash.notice(a))},h=function(a,c){if("undefined"===typeof c)return k[a];k[a]=c},Z=function(){"undefined"===typeof k.data.themeId&&$.ajax({type:"GET",url:"/admin/themes.json",success:function(a){if(a){k.data.themes=a.themes;for(var c=0,b=a.themes.length;c<b;c++)"main"===a.themes[c].role&&(k.data.themeId=a.themes[c].id)}}})},L=function(a,c){if("undefined"===typeof a||!a)return!1;var b=$("iframe:first").contents().find("#tinymce:first");if(!b.length)return!1;b=b.html();
b={metafield:{namespace:"backups",key:a,value:b,value_type:"string"}};if("undefined"!==typeof c){if(0>window.location.href.indexOf("/admin/products/")||!$("#autosave").hasClass("active"))return!1;$("#autosave").addClass("is-loading").removeClass("active");b.metafield.namespace="autosave";b.metafield.key="html"}var d=[location.protocol,"//",location.host,location.pathname,"/metafields.json"].join("");"articles"===h("alpha")&&(d="/admin/articles/"+a+"/metafields.json");$.ajax({type:"POST",url:d,dataType:"json",
data:b,success:function(a){t();"undefined"===typeof c?f("Backup saved"):$("#autosave").removeClass("is-loading").addClass("active")},error:function(a){a=JSON.parse(a.responseText);f(a.errors.value[0],!0)}});return!0},y=function(a,c){"undefined"===typeof c&&(c=[location.protocol,"//",location.host,location.pathname].join(""));var b="/metafields.json",d=A(c),e=d[0],d=d[1];"undefined"===typeof a||isNaN(a)||(b="/metafields/"+a+".json");return"general"===d?"/admin"+b:c=[location.protocol,"//",location.host,
"/admin/",e,"/",d,b].join("")},u=function(a,c){var b=y()+"?limit=250",d=$("body");k.cache.fullscreenMetafield=$(".metafield-fullscreen-btn");if(k.cache.fullscreenMetafield.length)k.cache.fullscreenMetafield.on("click",function(){d.hasClass("fullscreen-metafield")?d.removeClass("fullscreen-metafield"):d.addClass("fullscreen-metafield")});$.getJSON(b,function(b){var c="";var d=h("datalistNamespace")||["global","test","theme"],e=h("datalistKey")||[];if(b=b.metafields){h("m",b);h("hasbackup",!1);$("#restorebackup").hide();
"products"!==h("alpha")&&"collections"!==h("alpha")&&"pages"!==h("alpha")||aa();var g=$("#metacount");g.text(b.length).removeClass("hide");0===b.length&&g.addClass("hide");for(var g=0,n=b.length;g<n;g++)c+='<option data-type="'+b[g].value_type+'" data-id="'+b[g].id+'">'+b[g].namespace+"."+b[g].key+"</option>",k.metafields[b[g].id]={namespace:b[g].namespace,value:b[g].value,key:b[g].key},"backups"==b[g].namespace&&!1===h("hasbackup")&&($("#restorebackup").show(),h("hasbackup",!0),M()),"seo"===b[g].namespace&&
"hidden"===b[g].key&&1===b[g].value&&E(b[g].id),d.push(b[g].namespace),e.push(b[g].key);d=F(d);e=F(e);h("datalistNamespace",d);h("datalistKey",e);c='<select id="metafieldselect" class="ssb">'+x+c+"</select>"}else c='<select id="metafieldselect" class="ssb">'+x+"</select>";a.html(c).append(X);for(g=0;g<d.length;g++)c=$("<option />",{value:d[g]}),$("#fd-dl-namespace").append(c);for(g=0;g<e.length;g++)c=$("<option />",{value:e[g]}),$("#fd-dl-key").append(c);$("#advanced_meta_features").off("click").on("click",
function(){$("#advanced_meta").eq(0).toggleClass("hide");return!1});$("#adv_clear_cache").off("click").on("click",function(){$("#advanced_meta").find("select").remove().end().find("a").show();h("products",!1);h("collections",!1);return!1});$("#adv_get_products").off("click").on("click",function(){var b=$(this),a=function(a){for(var c="",d=$("<select />").change(function(){var a=$(this);$("#metafield_value").val(a.val())}).html('<option value="">Add product handle as value</option>'),e=0,p=a.products.length;e<
p;e++)c+='<option value="'+a.products[e].handle+'">'+a.products[e].title+"</option>";d.append(c);b.after(d).hide()};if(h("products")){var c=h("products");a(c)}else $.ajax({type:"GET",url:"/admin/products.json?limit=250",dataType:"json",success:function(b){b.products.length&&(h("products",b),a(b))},fail:function(){f("Failed to load products",!0)}});return!1});$("#adv_get_collections").off("click").on("click",function(){var b=$(this),a=function(a){for(var c="",d=$("<select />",{}).change(function(){var a=
$(this);$("#metafield_value").val(a.val())}).html('<option value="">Add collection handle as value</option>'),e=0,p=a.collections.length;e<p;e++)c+='<option value="'+a.collections[e].handle+'">'+a.collections[e].title+"</option>";d.append(c);b.after(d).hide()};if(h("collections")){var c=h("collections");a(c)}else $.ajax({type:"GET",url:"/admin/collections.json?limit=250",dataType:"json",success:function(b){b.collections.length&&(h("collections",b),a(b))},error:function(){f("Failed to load collections",
!0)}});return!1});$("#metafieldselect").change(function(){var a=$(this).find(":selected");if(a.attr("data-id")){var b=k.metafields[a.attr("data-id")];$(".metafield-next-label").text(q.edit_metafield);$("#metafield_namespace").val(b.namespace).prop("disabled",!0);$("#metafield_key").val(b.key).prop("disabled",!0);$("#metafield_value").val(b.value);$("#metafield_id").val(a.attr("data-id"));$("#shopifyjs_deletemetafield").removeClass("hide")}else O()});$("#shopifyjs_deletemetafield").on("click",function(a){a.preventDefault();
a=$("#metafield_id").val()||!1;if(!a)return f("Object ID Missing",!0),!1;a=y(a);-1<a.indexOf("?show_all_images")||-1<a.indexOf("products.json")||$.ajax({type:"DELETE",url:a,success:function(a){f(q.metafield_deleted);t()},error:function(a){f("Failed to delete",!0)}})});$(".metafield-content a.savemymeta").off("click").on("click",function(){var a="string";$(this).hasClass("int")&&(a="integer");var b=$("#metafield_namespace").val(),c=$("#metafield_key").val(),d=$("#metafield_value").val();var e=$("#metafield_id").val();
b={metafield:{namespace:b,key:c,value:d,value_type:a}};a={metafield:{id:e,value:d,value_type:a}};5<e.length?(e=y(e),$.ajax({type:"PUT",url:e,dataType:"json",data:a,success:function(a){t();v(a);f("Metafield updated")}})):(e=y(),$.ajax({type:"POST",url:e,dataType:"json",data:b,success:function(a){t();f("Metafield saved")},error:function(a){a=JSON.parse(a.responseText);var b="";a.errors.namespace&&(b+="Namespace "+D(a.errors.namespace[0])+". ");a.errors.key&&(b+="Key "+D(a.errors.key[0])+". ");a.errors.value&&
(b+="Value "+D(a.errors.value[0])+". ");f("Metafield failed to save: "+b,!0)}}));return!1})})},ba=function(){var a=$("iframe:first").contents().find("#tinymce:first");if(!a.length)return!1;var c=["href","target","class","src"];a.find("*").each(function(a,d){for(a=d.attributes.length-1;0<=a;a--)0>c.indexOf(d.attributes[a].name)&&d.removeAttribute(d.attributes[a].name)})},O=function(){$(".metafield-next-label").text(q.add_new_metafield);$("#metafield_namespace").val("").prop("disabled",!1);$("#metafield_key").val("").prop("disabled",
!1);$("#metafield_value").val("");$("#metafield_id").val("");$("#shopifyjs_deletemetafield").addClass("hide")},da=function(){if(function(){var a=document.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a}()){v("has dnd");var a=document.documentElement;a.ondragover=function(){this.className="dragit";return!1};a.ondragleave=function(){this.className="";return!1};a.ondragend=function(){this.className="";return!1};a.ondrop=function(a){a.preventDefault&&a.preventDefault();var b=
a.dataTransfer.files,c=b.length,e=0,l=new FileReader,m={};l.onload=function(a){v("load");a=a.target.result.split(",")[1];m[e]={name:b[e].name,data:a};e++;e<c?(f("Reading file ["+(e+1)+"] contents..."),l.readAsDataURL(b[e])):ca(m)};c&&(document.documentElement.className="dragit",f("Reading file ["+(e+1)+"] contents..."),l.readAsDataURL(b[e]));return!1}}},ca=function(a){var c=k.data.themeId;if(!c||isNaN(c))return f("Theme ID not found",!0),!1;var b=Object.keys(a).length,d=0;"themes"==h("alpha")&&(c=
h("omega"));"settings"!=h("omega")||isNaN(h("alpha"))||(c=h("alpha"));var e=function(){$.ajax({type:"PUT",url:"/admin/themes/"+c+"/assets.json",data:{asset:{key:"assets/"+a[d].name,attachment:a[d].data}},success:function(){f(a[d].name+" uploaded ("+(d+1)+"/"+b+")");d++;d<b&&e()},error:function(){f("File upload failed",!0)}})};e()},P=function(a,c,b){if("undefined"===typeof a)return!1;f("Updating Variant "+(c+1)+"/"+a.length+"...");"undefined"===typeof c&&(c=0);"undefined"===typeof b&&(b=!1);$.ajax({type:"PUT",
url:"/admin/variants/"+a[c].variant.id,dataType:"json",data:a[c],success:function(d){++c;c<a.length?P(a,c,b):(f("Variants updated"),"function"===typeof b&&b())},error:function(){f("Update failed",!0)}})},Q=function(a,c,b,d,e,l){l="undefined"!==typeof l?"integer":"string";var m="post",h="/admin/variants/"+a+"/metafields.json";c={metafield:{namespace:c,key:b,value:d,value_type:l}};if(e.length){if(isNaN(e))return!1;c={metafield:{id:e,value:d,value_type:l}};h="/admin/variants/"+a+"/metafields/"+e+".json";
m="put"}$.ajax({type:m,url:h,data:c,success:function(b){v(b);w(a);f("Metafield saved")},error:function(b){w(a);f("Error Saving",!0)}})},ea=function(a,c){var b="/admin/variants/"+a+"/metafields/"+c+".json";if(-1<b.indexOf("?")||-1<b.indexOf("products.json"))return!1;$.ajax({type:"DELETE",url:b,success:function(b){v(b);w(a);f(q.metafield_deleted)},error:function(b){w(a);f("Failed to delete",!0)}})},w=function(a){if("undefined"===typeof a||isNaN(a)||!a)return f("Could not find ID",!0),!1;$("#mv_namespace").val("").prop("disabled",
!1);$("#mv_key").val("").prop("disabled",!1);$("#mv_value").val("");h("current_vid","");var c=function(a){return'<option class="meta" value="'+a.id+'">'+a.namespace+"."+a.key+"</option>"};$.ajax({type:"GET",url:"/admin/variants/"+a+"/metafields.json",success:function(b){$("#vrow option.meta").remove();if(b=b.metafields)h("vm",b),b.length?$("#vrow select").addClass("active"):$("#vrow select").removeClass("active");for(var d=0,e=b.length;d<e;d++)$("#vrow select").append(c(b[d]));$("#vrow .save").off("click").on("click",
function(){h("current_vid")||h("current_vid","");Q(a,$("#mv_namespace").val(),$("#mv_key").val(),$("#mv_value").val(),h("current_vid"));return!1});$("#vrow .saveinteger").off("click").on("click",function(){h("current_vid")||h("current_vid","");Q(a,$("#mv_namespace").val(),$("#mv_key").val(),$("#mv_value").val(),h("current_vid"),!0);return!1});$("#vrow .delete").addClass("hidden").off("click").on("click",function(){ea(a,h("current_vid"));return!1});$("#vrow select").eq(0).off("change").change(function(){var a=
$(this).val();h("current_vid",a);v(h("vm"));if(a.length){$("#mv_namespace").prop("disabled",!0);$("#mv_key").prop("disabled",!0);$("#vrow .delete").removeClass("hidden");a:{for(var b,c=0,d=h("vm").length;c<d;c++)if(b=h("vm")[c],parseInt(b.id)==parseInt(a)){a=b;break a}a=!1}a&&($("#mv_namespace").val(a.namespace),$("#mv_key").val(a.key),$("#mv_value").val(a.value))}else $("#mv_namespace").val("").prop("disabled",!1),$("#mv_key").val("").prop("disabled",!1),$("#mv_value").val(""),$("#vrow .delete").addClass("hidden")});
$("#vrow .mybuttons").fadeIn()},error:function(a){f("Error grabbing metafields",!0)}});window.dispatchEvent(new Event("resize"))},fa=function(){$("td.vid input").on("change",function(){var a=$(this);a.val(a.attr("data-val"))}).on("click",function(){$(this).select()});var a=$(".edit-variant-metafield");a.on("click",function(c){c.preventDefault();var b=$(this);$("#vrow").remove();if(b.hasClass("active"))b.removeClass("active");else{a.removeClass("active");b.addClass("active");c=b.attr("data-val");h("currentvrow",
c);$("tr.variant.active").removeClass("active");var b=b.parent().parent().parent(),d=b.find("td").length+1;b.addClass("active").after('<tr id="vrow"><td colspan="'+d+'">'+I+"</td></tr>");w(c)}})},ga=function(a){if("product"!==a||null!==document.getElementById("removealltags"))return!0;a=$("ul.js-tag-list").eq(0).parent();a.length?(a.append('<a style="margin-top:.75em" id="removealltags" href="#" class="fd-btn btn delete">Remove all tags</a>'),$("#removealltags").on("click",function(a){a.preventDefault();
$("ul.next-token-list").eq(0).find("a").click()})):f("ShopifyFD error : btn_removealltags : target html not found",!0)},v=function(a){h("debug")&&console.log(a)},z=function(a,c,b,d){v("fdmodal");var e=$("#fdmodal");if(a){e.length&&e.remove();a=$('<div id="fdmodal" class="modalWindow"><div class="main content"><header></header></div></div>');b&&a.find("header").html("<h2>"+b+"</h2>");c&&(c=$("<div/>",{}).append(c),a.find("div.main.content").append(c));if(d)d=$('<a href="#" class="close-modal"></a>'),
d.on("click",function(){z(!1);return!1}),a.find("header").prepend(d).end().fadeIn();else a.fadeIn().on("click",function(){z(!1)});$("body").append(a)}else e.off("click").remove()},ha=function(){var a=$(".ui-title-bar .ui-title-bar__heading-group");if(!a.length)return f("ShopifyFD error : setup_discounts : target html not found",!0),!1;var c=$("<ul/>",{"class":"segmented",id:"discount_buttons"}),b=$("<li/>"),d=$("<a/>",{"class":"btn btn-separate disabled",href:"#"}).html("Bulk create").on("click",
function(a){a.preventDefault()});b.append(d);c.append(b);a.after(c)},ia=function(){var a=$(".ui-layout__section--secondary .ui-layout__item:last"),c=$(".action-bar__top-links");if(a.length){var b=$('<div class="ui-layout__item"><div class="next-card"></div></div>');b.find(".next-card").append('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>');
a.after(b);a=$("div.metafield-content");u(a)}else f("ShopifyFD error : setup_articles : Metafield target HTML not found",!0);c.length?(a=$("<button/>",{"class":"btn action-bar__link btn--link",href:"#"}).html("Duplicate").on("click",function(a){a.preventDefault();$(this);$.getJSON(["//",location.host,location.pathname].join("")+".json",function(a){$.ajax({type:"POST",url:"/admin/blogs/"+a.article.blog_id+"/articles.json",dataType:"json",data:{article:{author:a.article.author,blog_id:a.article.blog_id,
body_html:a.article.body_html,summary_html:a.article.summary_html,tags:a.article.tags,template_suffix:a.article.template_suffix,title:a.article.title+" [copy]",published:!1}},success:function(a){r("/admin/blogs/"+a.article.blog_id+"/articles/"+a.article.id)},error:function(a){f("Error saving",!0)}})})}),c.append(a)):f("ShopifyFD error : setup_articles : Header button missing",!0);0===$("#rte_extra").length&&($("#article-content_iframecontainer").eq(0).after('<div class="sst" id="rte_extra"><a class="btn btn-slim fd-btn tooltip delete tooltip-bottom" id="clearformatting" href="#"><span class="tooltip-container"><span class="tooltip-label">Will remove all HTML on click</span></span>Purge html</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="clear-html-attributes" href="#"><span class="tooltip-container"><span class="tooltip-label">Removes HTML attributes except for <br>target,class,href & src</span></span>Clean HTML</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="createbackup" href="#"><span class="tooltip-container"><span class="tooltip-label">Save contents as metafield</span></span>Create Backup</a> <a class="btn btn-slim fd-btn" style="display:none;" id="restorebackup" href="#">Restore Backup</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="save_images_to_meta" href="#"><span class="tooltip-container"><span class="tooltip-label">Add image paths to a metafield</span></span>Images to Metafields</a></div>'),
C())},M=function(){$("#restorebackup").show().on("click",function(a){a.preventDefault();a:{h("omega");a=$("iframe").contents().find("#tinymce").eq(0);var c=h("m");if(c)for(var b=0,d=c.length;b<d;b++){if("backups"===c[b].namespace){a.html(c[b].value);f("Backup restored");break a}}else f("Error, nothing to restore",!0)}})},C=function(){var a=$("#restorebackup");a.length&&(h("hasbackup")?M():a.hide());$("#clearformatting").on("click",function(a){a.preventDefault();a=$("iframe:first").contents().find("#tinymce:first");
if(a.length){var b=document.createElement("div");b.innerHTML=a.html();a.text(b.textContent||b.innerText||"")}});$("#clear-html-attributes").on("click",function(a){a.preventDefault();ba()});$("#createbackup").on("click",function(a){a.preventDefault();L(h("omega"))});$("#save_images_to_meta").on("click",function(a){a.preventDefault();ja()});a=$("#rte-show-html");if(a.length){var c=$('<button name="" type="button" class="btn rte-tools__source-btn btn-slim fullscreen-rte-btn"><svg class="next-icon next-icon--color-slate next-icon--size-12"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg></button>');
c.on("click",function(a){a.preventDefault();a=document.querySelectorAll('[data-context="descriptionRte"]');a.length&&a[0].classList.toggle("fullscreen-rte")});a.before(c)}},ja=function(){var a=$("iframe:first").contents().find("#tinymce:first").find("img");if(a&&a.length){var c="";a.each(function(b){var d=$(this).prop("src").replace(/https:/i,"");c+=d;b<a.length-1&&(c+=",")});var b={metafield:{namespace:"helpers",key:"images",value:c,value_type:"string"}},d=[location.protocol,"//",location.host,location.pathname,
"/metafields.json"].join("");"articles"===h("alpha")&&(d="/admin/articles/"+h("omega")+"/metafields.json");$.ajax({type:"POST",url:d,dataType:"json",data:b,success:function(a){t();f("Images saved to metafield")},error:function(a){f("Error saving",!0)}})}else f("No images found",!0)},F=function(a){a=a.concat();for(var c=0;c<a.length;++c)for(var b=c+1;b<a.length;++b)a[c]===a[b]&&a.splice(b--,1);return a},R=function(){if(!document.getElementsByClassName("sku-count-cell").length){var a=$(".next-tab__container:first");
if(!a.length)return!1;var c=$("<div />",{"class":"row s-none sku-count-cell"});$.ajax({type:"GET",url:"/admin/settings/general.json",dataType:"json",success:function(b){var d=!1;try{h("shop_settings",b.shop_settings),d=b.shop_settings.total_skus,c.html(e)}catch(l){}if(d){var e='<div style="background: #e3e7ea;"class="header-notice">You are using %1 skus</div>'.replace("%1",d);c.html(e);a.before(c)}}})}},ka=function(){R();var a=$(".action-bar__top-links");if(!a.length)return f("Error : setup_products_list : html not found",
!0),!1;$("#showsku").length&&$("#showsku").remove();var c=$("<button/>",{"class":"btn action-bar__link btn--link"}).html("Show SKUs & ID").on("click",function(a){a.preventDefault();var b=[],c=$("#all-products td.name a[href]");c.each(function(){b.push($(this).attr("href").split(/[/]+/).pop())});if(b.length){var l=$(this);l.addClass("is-loading disabled");var m=function(a,b){$.ajax({type:"GET",url:"/admin/products/"+a[b]+".json?fields=variants",dataType:"json",success:function(d){var e=d.product.variants[0].sku;
d=d.product.variants[0].id;var g="";if(e||d)e&&(g='<span title="SKU" class="sku label badge badge--small badge--left-margin animated fadein">'+e+"</span>"),c.eq(b).before(g+'<span title="VariantID" class="variant-label badge badge--small badge--left-margin animated fadein">'+d+"</span>");b+1<a.length?m(a,b+1):(f("SKUs and Variant IDs Loaded"),l.removeClass("is-loading").text("Data Loaded"))}})};f("Loading SKUs and Variant IDs, please wait...");m(b,0)}});a.append(c)},S=function(){if("undefined"===
typeof k.data.themes)$.ajax({type:"GET",url:"/admin/themes.json",success:function(a){if(a){k.data.themes=a.themes;for(var b=0,c=a.themes.length;b<c;b++)"main"===a.themes[b].role&&(k.data.themeId=a.themes[b].id);S()}}});else{var a=function(a){if("undefined"===typeof k.data.themes||"undefined"===typeof a)return!1;a=parseInt(a);for(var b=k.data.themes.length-1;0<=b;b--)if(k.data.themes[b].id===a)return k.data.themes[b]},c=$(".published-theme-title");$(".unpublished-theme-title");for(var b=$("div.unpublished-box"),
d=[],e=0;e<b.length;e++){var l=b[e].id.split("_").pop();d.push(l);var m=b.eq(e).find(".unpublished-theme-title");var h=a(l);var g="";h&&(g+="<br>Created at: "+(new Date(h.created_at)).toString(),g+="<br>Updated at: "+(new Date(h.updated_at)).toString());m.after('<div style="font-size:90%;opacity:.5" class="theme-data" data-id="'+l+'">Theme ID: '+l+g+"</div>")}c.length&&(g=$(".published-theme .btn-primary").eq(0).attr("href"),"undefined"!==typeof g&&-1<g.indexOf("/admin/themes")&&(l=g.split("/")[3],
d.push(l),h=a(l),g="",h&&(g+="<br>Created at: "+(new Date(h.created_at)).toString(),g+="<br>Updated at: "+(new Date(h.updated_at)).toString()),c.after('<div style="font-size:90%;opacity:.5" class="theme-data" data-id="'+l+'">Theme ID: '+l+g+"</div>")));2>d.length||(a=$(".action-bar__top-links"),a.length&&(c=$("<button/>",{"class":"btn action-bar__link btn--link",style:"margin-right: 10px;"}).text("Export all themes").on("click",function(a){a.preventDefault();for(a=0;a<d.length;a++)$.ajax({type:"POST",
data:{_method:"post"},url:"/admin/themes/"+d[a]+"/export"});f(d.length+" export request"+(1<d.length?"s":"")+" sent. Check your inbox")}),a.after(c)))}},la=function(a){var c=$(".header .header__primary-actions:first");if(!c.length)return!1;$.ajax({type:"GET",url:"/admin/link_lists.json",dataType:"json",success:function(a){if(a){a=a.link_lists;for(var b="",e=0,f=a.length;e<f;e++)h("omega")!==a[e].id.toString()&&(b+='<option value="'+a[e].id+'">'+a[e].title+"</option>");a=$("<select />",{"class":"header-select fadein"}).append("<option>Edit other Menu</option>",
b).change(function(){var a=$(this).val();a&&r("/admin/link_lists/"+a)});c.prepend(a)}},error:function(a){f("Error loading linklist data",!0)}})},T=function(){var a=$(".next-card__section .next-grid__cell--no-flex"),c=function(){$.ajax({type:"GET",url:"/admin/collections.json?limit=250",dataType:"json",success:function(a){for(var b=$.param({utf8:"\u2713","link_list[handle]":"all-collections","link_list[title]":"All Collections"}),c=[],d=0,p=a.collections.length;d<p;++d){c.push({position:d+1,title:a.collections[d].title,
link_type:"collection",subject_id:a.collections[d].id});var f={};f["link_list[links][][position]"]=d+1;f["link_list[links][][title]"]=a.collections[d].title;f["link_list[links][][link_type]"]="collection";f["link_list[links][][subject_id]"]=a.collections[d].id;b+="&"+$.param(f)}e(b)},error:function(){f("Error! Are you sure you have access to collections?",!0)}});return!1},b=function(){$.ajax({type:"GET",url:"/admin/pages.json?limit=250",dataType:"json",success:function(a){for(var b=$.param({utf8:"\u2713",
"link_list[handle]":"all-pages","link_list[title]":"All Pages"}),c=[],d=0,f=a.pages.length;d<f;++d){c.push({position:d+1,title:a.pages[d].title,link_type:"page",subject_id:a.pages[d].id});var p={};p["link_list[links][][position]"]=d+1;p["link_list[links][][title]"]=a.pages[d].title;p["link_list[links][][link_type]"]="page";p["link_list[links][][subject_id]"]=a.pages[d].id;b+="&"+$.param(p)}e(b)},error:function(){f("Error! Are you sure you have access to pages?",!0)}});return!1},d=function(){$.ajax({type:"GET",
url:"/admin/products/vendors.json",dataType:"json",success:function(a){for(var b=$.param({utf8:"\u2713","link_list[handle]":"all-vendors","link_list[title]":"All Vendors"}),c=[],d=0,f=a.vendors.length;d<f;++d){var p={position:d+1,title:a.vendors[d],link_type:"http",subject:"/collections/vendors?q="+encodeURIComponent(a.vendors[d].toLowerCase()).replace(/%20/g,"+")},g={};g["link_list[links][][position]"]=d+1;g["link_list[links][][title]"]=a.vendors[d];g["link_list[links][][link_type]"]="http";g["link_list[links][][subject]"]=
"/collections/vendors?q="+encodeURIComponent(a.vendors[d].toLowerCase()).replace(/%20/g,"+");b+="&"+$.param(g);c.push(p)}e(b)}})},e=function(a,b){"undefined"===typeof b&&(b=1);"undefined"!==typeof a&&$.ajax({type:"POST",url:"/admin/link_lists",data:a,success:function(a,b,c){(b=c.getResponseHeader("X-XHR-Redirected-To"))?(a=b.split("/").pop(),isNaN(a)?f("Error creating linklist - ID not returned",!0):(f("Link list added"),r("/admin/link_lists/"+a))):(a=$(a).find("form").eq(0).attr("action").split("/").pop(),
isNaN(a)||(f("Link list added"),r("/admin/link_lists/"+a)))},error:function(){f("Error creating linklist",!0)}})},l=$("<a/>",{href:"#","class":"tooltip-bottom tooltip",style:"margin-right:1.5em"}).html('<span class="tooltip-container"><span class="tooltip-label">Make a copy of this linklist</span></span>Duplicate').on("click",function(a){a.preventDefault();a=$(this);var b=a.parent().find('a[href^="/admin/link_lists"]:first');if(b.length){if(a.addClass("btn is-loading"),b=b.attr("href").split("/").pop(),
!isNaN(b)){var b=parseInt(b),c=h("link_lists");a=!1;for(var d=0;d<c.length;d++)if(b===c[d].id){a=c[d];break}if(a){var b=e;var g=g+"utf8=\u2713"+("&link_list[title]="+a.title+" [COPY]");g+="&link_list[handle]="+a.handle+"-copy";for(c=0;c<a.links.length;c++)g+="&link_list[links][][title]="+a.links[c].title,g+="&link_list[links][][link_type]="+a.links[c].link_type,g+="&link_list[links][][subject_params]="+(a.links[c].subject_params||""),g+="&link_list[links][][subject_id]="+(a.links[c].subject_id||""),
g+="&link_list[links][][subject]="+a.links[c].subject;b(g)}}}else f("Can not copy this linklist. ID was not found",!0)}),m=$("<a />",{href:"#","class":"tooltip-bottom tooltip",style:"margin-right:1.5em"}).html('<span class="tooltip-container"><span class="tooltip-label">Delete Linklist on click</span></span><i class="ico ico-14-svg ico-delete"></i>').on("click",function(a){a.preventDefault();var b=$(this);a=b.parent().find('a[href^="/admin/link_lists"]').eq(0);a.length&&(b.addClass("btn is-loading no-btn"),
href=a.attr("href").split("/").pop(),isNaN(href)||$.ajax({type:"POST",url:"/admin/link_lists/"+href,data:{utf8:"\u2713",_method:"delete"},success:function(a){b.removeClass("btn is-loading no-btn").closest(".next-grid__cell.next-grid__cell--half").addClass("disable").css({opacity:".2","pointer-events":"none"})}}))});1<a.length?(a.prepend(m,l),$.ajax({type:"GET",url:"/admin/link_lists.json",dataType:"json",success:function(b){b&&b.link_lists&&(h("link_lists",b.link_lists),a.each(function(a){$(this).parent().find("h3").append('<span class="fadein" style="color:#ccc;display: block;font-size: 11px;font-family: monospace;">'+
b.link_lists[a].handle+"</span>")}))}})):a.prepend(l);var l=$(".ui-annotated-section__description").eq(0),m=$("<a/>",{"class":"btn tooltip-bottom tooltip fd-btn sst",href:"#"}).html('<span class="tooltip-container"><span class="tooltip-label">Create a menu with every collection</span></span>Create Collections menu').on("click",function(){$(this).addClass("is-loading disabled");c();return!1}),B=$("<a/>",{"class":"btn tooltip-bottom tooltip fd-btn sst",href:"#"}).html('<span class="tooltip-container"><span class="tooltip-label">Create a menu with every page</span></span>Create Pages menu').on("click",
function(){$(this).addClass("is-loading disabled");b();return!1}),g=$("<a/>",{"class":"btn tooltip-bottom tooltip fd-btn sst",href:"#"}).html('<span class="tooltip-container"><span class="tooltip-label">Create a menu with all vendors</span></span>Create Vendor menu').on("click",function(){$(this).addClass("is-loading disabled");d();return!1});l.length&&l.append("<br>",m,"<br>",B,"<br>",g);l=$('.ui-annotated-section__description a[href="/admin/link_lists/new"]');if(l.length&&(m=$("#link_lists .next-grid--no-outside-padding a:last-child"),
m.length)){var n="";2<m.length&&(m.each(function(){var a=$(this),b=a.parent().parent().find("h3").text(),a=a.attr("href");b.length&&a.length&&(n+='<option value="'+a+'">'+b+"</option>")}),n.length&&(m=$("<select />",{style:"width: 100%"}).on("change",function(){var a=$(this).val();a.length&&r(a)}).html('<option value="">Select Menu</option>'+n),B=$("<div />",{"class":"sst"}),B.append('<label class="next-label">Select a menu to quickly edit.</label>',m),l.after(B)))}},H=function(a){if("undefined"!==
typeof a&&a.length){var c=a[0];if("object"===typeof c){var b=$('textarea[name="bulk-redirect-log"]'),d=b.val();$.ajax({type:"POST",url:"/admin/redirects.json",dataType:"json",data:c,success:function(c){d+=c.redirect.path+", "+c.redirect.target+", success\n";b.val(d);a.shift();0<a.length?H(a):f("Bulk redirection additions complete")},error:function(e){d+=c.redirect.path+", "+c.redirect.target+", "+e.responseJSON.errors.path[0]+"\n";b.val(d);a.shift();0<a.length?H(a):f("Bulk redirection additions complete")}})}}},
ma=function(){if(!document.getElementsByClassName("bulk-redirect-panel").length){$(".header .header__secondary-actions:first");var a=$(".next-card.has-bulk-actions");a.length||(a=$("#url_redirects"));if(!a.length)return f("Could not add bulk redirect panel",!0),!1;var c=$('<div class="bulk-redirect-panel next-grid next-grid--outer-grid" style="border-bottom: 1px solid #DADADA;margin-bottom: 1em;padding-bottom: 1em;"><div class="next-grid__cell next-grid__cell--third"><h2 class="next-heading">Bulk Redirects</h2><p>To bulk add redirects manually add the path (old url) and target (new url) separated with a comma to the input box. As with any bulk action, run a small sample first before processing 1000s of items.<br><br></p><ul><li>One redirect per line.</li><li>A log will show progress and any errors</li></ul></div><div class="next-grid__cell"><h2 class="next-heading">Paste URLs</h2><p>An example of the redirect is shown below:<br><code>http://freakdesign.com.au/old-url,http://freakdesign.com.au/new-url</code><br>or<br><code>/old-url,/pages/new-url</code></p><br><textarea name="bulk-redirect-paste"></textarea><br><br><button class="redirect-process btn fd-btn btn-primary">Add Redirects</button> <button class="redirect-reload btn fd-btn">Reload page</button><div class="fadein hide bulk-redirect-log"><br><br><h2 class="next-heading">Activity Log</h2><textarea name="bulk-redirect-log"></textarea></div></div></div>'),
b=c.find(".redirect-process"),d=c.find(".redirect-reload"),e=c.find('textarea[name="bulk-redirect-paste"]'),h=c.find('textarea[name="bulk-redirect-log"]');d.on("click",function(a){a.preventDefault();r("/admin/redirects?"+Math.floor(1E6*Math.random()))});b.on("click",function(a){a.preventDefault();a=e.val().replace(/ /g,"");if(!(4>a.length)&&(a=a.split("\n"),a.length)){for(var b=[],c=0;c<a.length;c++){var d=a[c].split(",");2===d.length&&(d[0]=d[0].trim(),d[1]=d[1].trim(),"/"!==d[1].substring(0,1)&&
"http"!==d[1].substring(0,4)&&(d[1]="/"+d[1]),b.push({redirect:{path:d[0],target:d[1]}}))}b.length&&(h.val("").parent().removeClass("hide"),H(b))}});a.prepend(c)}},na=function(){R();h("collections",!1);var a=$(".ui-title-bar .ui-title-bar__heading-group");if(a.length){var c=$("<ul/>",{"class":"segmented"}),b=$("<li/>"),d=$("<a/>",{"class":"btn fd-btn",style:"margin-left:.5em",href:"#"}).text("Show Product Count").on("click",function(a){a.preventDefault();$.ajax({type:"GET",url:"/admin/collections.json?limit=250",
dataType:"json",success:function(a){if(a.collections.length){h("collections",a);for(var b=a.collections.length-1;0<=b;b--){var c=$("#collections-results").find('a[href="/admin/collections/'+a.collections[b].id+'"]:last');0===c.find("span").length&&c.append('<span class="sku label badge badge--small badge--left-margin">'+a.collections[b].products_count+"</span>")}}}})}),e=$("<a/>",{"class":"btn fd-btn",href:"#",title:"Add tags to entire collection"}).html("Bulk edit tags").on("click",function(){z(!0,
'<div><div class="clearfix em"><div class="half">Choose a collection</div><div class="half"><select data-action="collection"><option value="">Loading, please wait...</option></select></div></div><div class="clearfix em"><div class="half">Choose an action</div><div class="half"><select data-action="action"><option value="add">Add</option><option value="set">Set</option><option value="remove">Remove</option><option disabled value="toggle">Toggle</option><option value="purge" style="background:red;color:#fff">DELETE ALL</option></select></div></div><div class="clearfix em"><div class="half">Set the tag</div><div class="half"><input /></div></div><div class="half"><a class="btn" data-action="update_tags">Update tags</a></div><div class="half"><small>Add: Adds tags to the existing ones<br>Set: Replaces tags with new ones<br>Remove: Removes matching tags<br>Toggle: Future Use, disabled...</small></div></div>',
"Edit tags for all products in a collection",!0);var a=$("#fdmodal"),b=a.find('select[data-action="action"]'),c=a.find("a").eq(1),d=a.find('select[data-action="collection"]'),e=a.find("input").eq(0);b.change(function(a){"purge"==b.val()||"set"==b.val()?("purge"==b.val()&&e.val("").attr("disabled","disabled"),c.addClass("delete")):(e.removeAttr("disabled"),c.removeClass("delete"))});var p=function(a,b,d,e){var f=a.products[b].id,g={product:{id:f,tags:d}};c.text(b+1+"/"+a.products.length);$.ajax({type:"PUT",
url:"/admin/products/"+f+".json",data:g,dataType:"json",success:function(c){++b;b<a.products.length?p(a,b,d,e):"function"===typeof e&&e()}})},k=function(a,b,d,e){if(a.products[b].tags){var f=d.replace(/, /g,",").split(","),g=a.products[b].tags.replace(/, /g,",").split(","),g=$(g).not(f).get()+"",f=a.products[b].id,g={product:{id:f,tags:g}};c.text(b+1+"/"+a.products.length);$.ajax({type:"PUT",url:"/admin/products/"+f+".json",data:g,dataType:"json",success:function(c){++b;b<a.products.length?k(a,b,
d,e):"function"===typeof e&&e()}})}else++b,b<a.products.length?k(a,b,d,e):"function"===typeof e&&e()},N=function(a,b,d,e){var f=d.replace(/, /g,",").split(","),g=a.products[b].tags.split(","),g=F(f.concat(g))+"",f=a.products[b].id,g={product:{id:f,tags:g}};c.text(b+1+"/"+a.products.length);$.ajax({type:"PUT",url:"/admin/products/"+f+".json",data:g,dataType:"json",success:function(c){++b;b<a.products.length?N(a,b,d,e):e()}})};c.on("click",function(){d.val().length?("add"===b.val()&&e.val().length&&
$.ajax({type:"GET",url:"/admin/products.json?collection_id="+d.val()+"&fields=id,tags",dataType:"json",success:function(a){c.addClass("disabled");N(a,0,e.val(),function(){f("Done. Tags have been added");c.text("Update tags").removeClass("disabled")})}}),"purge"!==b.val()&&"set"!==b.val()||$.ajax({type:"GET",url:"/admin/products.json?collection_id="+d.val()+"&fields=id",dataType:"json",success:function(a){c.addClass("disabled");p(a,0,e.val(),function(){f("Done.");c.text("Update tags").removeClass("disabled")})}}),
"remove"===b.val()&&$.ajax({type:"GET",url:"/admin/products.json?collection_id="+d.val()+"&fields=id,tags",dataType:"json",success:function(a){c.addClass("disabled");k(a,0,e.val(),function(){f("Matched tags have been removed.");c.text("Update tags").removeClass("disabled")})}})):f("Choose a collection",!0);return!1});b.hide();$.ajax({type:"GET",url:"/admin/collections.json?limit=250",dataType:"json",success:function(a){if(a.collections.length){h("collections",a);for(var c="",e=0,f=a.collections.length;e<
f;e++)c+='<option value="'+a.collections[e].id+'">'+a.collections[e].title+"</option>";d.append(c).find("option:eq(0)").text("Select a collection");b.show()}}});return!1});b.append(e,d);c.append(b);a.after(c)}else f("ShopifyFD error : setup_collections : target html not found")},aa=function(){if(K()){var a=$('<div class="metafield-copy-paste sst"><a class="fd-btn btn btn-slim" id="fd_copymetafields">Copy All Metafields</a> <a class="fd-btn btn btn-slim" id="fd_pastemetafields">Paste Metafields</a> <a class="btn btn-slim tooltip tooltip-bottom" href="#" id="fd_whatmetafields"><span class="tooltip-container"><span class="tooltip-label">View what is in the clipboard</span></span>?</a></div>'),
c=a.find("#fd_pastemetafields"),b=a.find("#fd_whatmetafields");a.find("#fd_copymetafields").on("click",function(a){a.preventDefault();"undefined"!==typeof h("m")?0<h("m").length?(localStorage.metafieldCopy=JSON.stringify(h("m")),f(h("m").length+" Metafields copied"),c.show(),b.show()):f("No metafields to copy",!0):(c.hide(),b.hide())});b.on("click",function(a){a.preventDefault();if("undefined"!==typeof localStorage.metafieldCopy){a="";var b=!1;try{b=JSON.parse(localStorage.metafieldCopy)}catch(n){return!1}if(b){for(var c=
0,d=b.length;c<d;c++){var f=b[c].value,g=document.createElement("div");g.innerHTML=f;a+="<p><strong>"+b[c].namespace+"."+b[c].key+" ("+b[c].value_type+")</strong><br>"+(g.textContent||g.innerText)+"</p><hr>"}z(!0,a,"In the virtual clipboard...")}}});c.on("click",function(a){a.preventDefault();"undefined"!==typeof localStorage.metafieldCopy?(a=JSON.parse(localStorage.metafieldCopy),a.length?(h("m-copy",a),U(h("m-copy"),0)):f("Nothing to paste",!0)):f("Nothing to paste",!0)});"undefined"===typeof localStorage.metafieldCopy&&
(c.hide(),b.hide());$(".metafield-content").after(a)}},U=function(a,c){if("undefined"===typeof a||"undefined"===typeof c)return!1;f("Pasting metafields...");var b={metafield:{namespace:a[c].namespace,key:a[c].key,value:a[c].value,value_type:a[c].value_type}};$.ajax({type:"POST",url:[location.protocol,"//",location.host,location.pathname,"/metafields.json"].join(""),dataType:"json",data:b,success:function(b){c+1<a.length?U(a,++c):(t(),f("All metafields pasted!"))}})},oa=function(a,c){if("undefined"===
typeof a||isNaN(a))return!1;$.ajax({type:"PUT",url:"/admin/products/"+a+".json",dataType:"json",data:{product:{id:a,images:[""]}},success:function(a){$("#product-images").parent().remove();f("Images deleted. Reload product to check...")}})},pa=function(){clearInterval(h("autosave"));if(!document.getElementsByClassName("next-card-metafield").length){var a=$(".next-grid__cell--third:first");a.length||(a=$(".ui-layout__section--secondary .ui-layout__item:first"));a.length?(a.prepend('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),
a=$("div.metafield-content"),u(a)):f("ShopifyFD error : setup_products : Metafield target HTML not found",!0)}var c=$(".header .header__secondary-actions:first");c.length||(c=$(".header .header__primary-actions:first"));c.length&&!document.getElementsByClassName("product-switcher").length&&$.ajax({type:"GET",url:"/admin/products.json?limit=250&fields=id,title",dataType:"json",success:function(a){if(a){a=a.products;var b="",d=a.length;if(250<d)return!0;for(var e=0;e<d;e++)h("omega")!==a[e].id.toString()&&
(b+='<option value="'+a[e].id+'">'+a[e].title+"</option>");a=$("<select />",{"class":"product-switcher header-select fadein"}).append("<option>Edit other Product</option>",b).change(function(){var a=$(this).val();a&&r("/admin/products/"+a)});a.find("option").sort(J).appendTo(a);c.prepend(a)}},error:function(a){f("Error loading linklist data",!0)}});a=$("#js-collections");if(a.length){var b=a.find(".list-of-added-collections a");if(b.length){var d=$("<a />",{"class":"btn fd-btn delete"}).text("Remove from all").on("click",
function(a){a.preventDefault();b.trigger("click")});a.append(d)}}if(!document.getElementsByClassName("additional-product-actions").length){var a=$("#product-outer-variants"),d=$('<div class="additional-product-actions ui-layout__item"><div class="next-card"><div class="next-card__header"><div class="wrappable"><div class="wrappable__item"><h2 class="next-heading">Additional actions</h2></div></div></div><section class="next-card__section additional-product-content"></section></div>'),e=d.find(".additional-product-content");
if(!document.getElementsByClassName("remove-all-images").length){var l=$("<a />",{"class":"btn delete tooltip tooltip-bottom"}).html('Remove all images<span class="tooltip-container"><span class="tooltip-label">Instant, and no undo</span></span>').on("click",function(a){a.preventDefault();$(this);a=window.location.pathname.split("/").pop();oa(a)});e.append(l)}a.after(d)}document.getElementsByClassName("seo-hide-button").length||(a=$(".next-card.visibility .next-card__section:first"),a.length&&(d=
$("<a />",{"class":"btn fd-btn seo-hide-button"}).text(q.hide_from_sitemap).on("click",function(a){a.preventDefault();(a=$(this).attr("data-id"))?$.ajax({type:"DELETE",url:["//",location.host,location.pathname].join("")+"/metafields/"+a+".json",success:function(a){t()},error:function(a){f("Failed to delete",!0)}}):$.ajax({type:"POST",url:["//",location.host,location.pathname].join("")+"/metafields.json",dataType:"json",data:{metafield:{namespace:"seo",key:"hidden",value:1,value_type:"integer"}},success:function(a){t()},
error:function(){f("Failed to save metafield",!0)}})}),a.append('<p style="margin:1em 0">Add metafield to remove this product from the sitemap. It is <b>very</b> important that you <a href="https://help.shopify.com/api/tutorials/updating-seo-data#hide-an-object-from-search-engines-and-sitemaps" target="_blank">understand</a> what doing this means. If you don\'t, leave it alone.</p>',d)));null===document.getElementById("rte_extra")&&($("#product-description_iframecontainer").eq(0).after('<div class="sst" id="rte_extra"><a class="btn btn-slim fd-btn tooltip delete tooltip-bottom" id="clearformatting" href="#"><span class="tooltip-container"><span class="tooltip-label">Will remove all HTML on click</span></span>Purge html</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="clear-html-attributes" href="#"><span class="tooltip-container"><span class="tooltip-label">Removes HTML attributes except for <br>target,class,href & src</span></span>Clean HTML</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="createbackup" href="#"><span class="tooltip-container"><span class="tooltip-label">Save contents as metafield</span></span>Create Backup</a> <a class="btn btn-slim fd-btn" style="display:none;" id="restorebackup" href="#">Restore Backup</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="save_images_to_meta" href="#"><span class="tooltip-container"><span class="tooltip-label">Add image paths to a metafield</span></span>Images to Metafields</a></div>'),
$("#rte_extra").append(' <a id="autosave" tabindex="-1" class="btn btn-slim" href="#">Autosave</a>'),C(),$("#autosave").on("click",function(){var a=$(this);a.hasClass("active")?(f("Autosave disabled"),clearInterval(h("autosave")),a.removeClass("active")):(f("Autosave enabled"),a.addClass("active"),h("autosave",setInterval(function(){-1<window.location.href.indexOf("/admin/products/")?L(h("omega"),!0)||clearInterval(h("autosave")):clearInterval(h("autosave"))},3E4)));return!1}));ga("product");var a=
$("#product-outer-variants"),m=m||{};if(!document.getElementsByClassName("bulk-variants-section").length)if(a.length){var k=$("<div />",{"class":"next-card__section fadein hide bulk-variants-section",style:"background: #F5F6F7;"});var g=$("<a />",{"class":"btn fd-btn btn-slim",style:"margin-left:1em;margin-top: -3px;"}).text("Bulk Edits").on("click",function(a){a.preventDefault();k.toggleClass("hide")});k.html('<h2>Edit all variants</h2><p style="margin: .5em 0 1em;font-size: 12px;border-bottom: 1px solid #ccc;padding-bottom: .5em;">Bulk Editing comes with risks. Proceed with caution.</p><label style="margin-top:1.5em">Set Compare at Price<br><small>0 will clear the compare at price</small></label><input type="number" style="width:50%" value="0"> <a class="bulk-compare-save tooltip tooltip-bottom btn fd-btn"><span class="tooltip-container"><span class="tooltip-label">Save Compare at Price for all variants</span></span>Save</a>');
var d=k.find("a.bulk-compare-save"),n=k.find("input");d.on("click",function(a){a.preventDefault();var b=$(this);b.addClass("is-loading").attr("style","margin-left:1em;text-indent: -9999px;");a=function(){b.removeClass("is-loading").attr("style","margin-left:1em")};var c=n.val();if(isNaN(c)||"0"===c||""===c)c=null;if((c||null===c)&&"object"===typeof m)if(1<Object.keys(m).length)if(Object.keys(m).length===$("tr.variant").length){var d=[],e;for(e in m){var g=m[e],h;for(h in g)g.hasOwnProperty(h)&&d.push({variant:{id:g[h],
compare_at_price:c}})}d.length&&P(d,0,a)}else f("Unexpected variant found.",!0);else f("You only have 1 variant. No need to bulk edit",!0)});a.append(k)}else f("ShopifyFD error : setup_products : Inventory target HTML not found",!0);if(!document.getElementsByClassName("edit-variant-metafield").length)if(d=$("#product-inner-variants th:last-child"),d.length){d.before('<th class="variants-table__heading--indent-right tr">ID</th>');d=$("th.tc:first");d.length&&"Inventory"===d.text()&&d.text("#").prop("title",
"Quantity");var p=$("tr.variant");p.each(function(a){var b=p.eq(a).find("td:last a:first").prop("href").split("/").pop(),c=$("input#variant_ids_"+b),d=$("<a />",{"class":"edit-variant-metafield","data-val":b}).html('<span><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" width="16" height="16" viewBox="0 0 12 12" enable-background="new 0 0 12 12" xml:space="preserve"><path fill="currentColor" d="M0 0v12h12V0H0zM11 11H1V1h10V11zM5 9h2V7h2V5H7V3H5v2H3v2h2V9z"></path></svg></span>');
m["variant_"+a]={id:b};c.after(d);a='<td class="vid new-variants-table__cell"><input class="mock-edit-on-hover tr" data-action="selectall" data-val="'+b+'" type="text" value="'+b+'" /></td>';$(this).find("td:last-child").before(a)}).promise().done(function(){fa();window.dispatchEvent(new Event("resize"))})}else document.getElementsByClassName("vbox-single-card").length||null==document.getElementById("product_variant_id")||(d=document.getElementById("product_variant_id").value,$("#product-outer-variants").after(Y),
w(d));document.getElementsByClassName("set-preferred-collection").length||(d=$("ul.product-collections-list"),d.length&&d.find("li").each(function(){var a=$(this),b=a.find("a").eq(0).attr("href").split("/").pop(),c=$("<a/>",{"class":"tooltip tooltip-bottom set-preferred-collection",href:"#"}).html('<span class="next-icon next-icon--10" style="background:#21C2A8;left: -.5em;"></span><span class="tooltip-container"><span class="tooltip-label">Set a metafield with this collection handle</span></span>').on("click",
function(a){a.preventDefault();"undefined"!==b&&$.ajax({type:"GET",url:"/admin/collections/"+b+".json?fields=handle",dataType:"json",success:function(a){"undefined"!==typeof a&&(a=a.collection.handle,$.ajax({type:"POST",url:["//",location.host,location.pathname].join("")+"/metafields.json",dataType:"json",data:{metafield:{namespace:"collection",key:"preferred",value:a,value_type:"string"}},success:function(a){t();f("Preferred collection metafield saved")},error:function(a){a=JSON.parse(a.responseText);
f(a.errors.value[0],!0)}}))},error:function(){f("Failed to load collection",!0)}})});a.find("div.next-grid:first").prepend(c)}));if(!document.getElementsByClassName("edit-selected-weights").length&&(d=$("div.bulk-actions").eq(0),d.length)){var G=$("<a/>",{href:"#","class":"btn fd-btn btn-slim hide edit-selected-weights",style:"padding-left:.5em"}).text("Edit selected weights").on("click",function(){z(!0,'<label>New weight (grams)</label><input class="half" min="0" type="number" data-action="update-variant-weight" /><a data-action="update-variant-weight" href="#" class="btn btn-slim">Save</a><br><br><small>Note: You may need to reload this page before Shopify will show the new weight in the dashboard.</small>',
"Edit weight",!0);var a=$('a[data-action="update-variant-weight"]'),b=$('input[data-action="update-variant-weight"]');if(a.length&&b.length)a.on("click",function(){var c=$('tr.variant input[type="checkbox"]:checked');if(c.length&&!isNaN(b.val())){var d=[];c.each(function(){var a=$(this).val();isNaN(a)||d.push(parseInt(a))});var e=function(c,d){$.ajax({type:"PUT",url:"/admin/variants/"+d[c],dataType:"json",data:{variant:{id:d[0],grams:b.val()}},success:function(b){++c;c<d.length?e(c,d):(f("Weight updated"),
a.removeClass("is-loading").text(q.save))}})};a.addClass("is-loading").text("");e(0,d)}else f("Did you set a weight?",!0);return!1});return!1});d.append(G);$('tr.variant input[type="checkbox"]').on("change",function(){1<$('tr.variant input[type="checkbox"]:checked').length?G.removeClass("hide"):G.addClass("hide")})}a.length&&"object"===typeof m&&1<Object.keys(m).length&&a.find("header a.btn--plain:last").after(g)},qa=function(){var a=$(".ui-layout__section--secondary .ui-layout__item:last");if(a.length){a.find("a").eq(0).clone(!0);
var c=$('<div class="ui-layout__item"><div class="next-card"></div></div>');c.find(".next-card").append('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>');
a.after(c);u($("div.metafield-content"))}else f("ShopifyFD error : setup_pages : Metafield target HTML not found",!0);0===$("#rte_extra").length&&($("#page-content_iframecontainer").eq(0).after('<div class="sst" id="rte_extra"><a class="btn btn-slim fd-btn tooltip delete tooltip-bottom" id="clearformatting" href="#"><span class="tooltip-container"><span class="tooltip-label">Will remove all HTML on click</span></span>Purge html</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="clear-html-attributes" href="#"><span class="tooltip-container"><span class="tooltip-label">Removes HTML attributes except for <br>target,class,href & src</span></span>Clean HTML</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="createbackup" href="#"><span class="tooltip-container"><span class="tooltip-label">Save contents as metafield</span></span>Create Backup</a> <a class="btn btn-slim fd-btn" style="display:none;" id="restorebackup" href="#">Restore Backup</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="save_images_to_meta" href="#"><span class="tooltip-container"><span class="tooltip-label">Add image paths to a metafield</span></span>Images to Metafields</a></div>'),
C());var b=$(".ui-title-bar .ui-title-bar__heading-group");b.length?$.ajax({type:"GET",url:"/admin/pages.json?limit=250&fields=id,title",dataType:"json",success:function(a){if(a){a=a.pages;for(var c="",d=0,f=a.length;d<f;d++)h("omega")!==a[d].id.toString()&&(c+='<option value="'+a[d].id+'">'+a[d].title+"</option>");a=$("<select />",{id:"shopifyjs_llselect","class":"header-select",style:"margin-right: 10px;"}).append("<option>Edit other Page</option>",c).change(function(){var a=$(this).val();a&&r("/admin/pages/"+
a)});a.find("option").sort(J).appendTo(a);b.after(a)}},error:function(a){f("Error loading page data",!0)}}):f("ShopifyFD error : setup_pages : Page switcher target HTML not found",!0)},V=function(a){try{JSON.parse(a)}catch(c){return!1}return!0},ra=function(){var a=function(){for(var a=["price","weight"],c=0;c<a.length;c++)V(localStorage["rates_"+a[c]])&&($('button.paste-rates[data-type="'+a[c]+'"]')[0].disabled=!1)},c=function(a,c){for(var b=0;b<k.data.shipping_zones.length;b++)if(k.data.shipping_zones[b].id===
parseInt(a))return"undefined"===typeof c?k.data.shipping_zones[b]:k.data.shipping_zones[b][c+"_based_shipping_rates"];return!1};(function(a){$.ajax({type:"GET",dataType:"json",url:"/admin/settings/shipping_zones.json",success:function(b){k.data.shipping_zones=b.shipping_zones;"function"===typeof a&&a(b)},error:function(a){f("Error getting JSON rates",!0)}})})(function(b){if(K()){b=["price","weight"];for(var d={},e={},f={price:'<input type="hidden" name="shipping_zone[rates][][min_order_subtotal]" value="%min_order_subtotal%""><input type="hidden" name="shipping_zone[rates][][max_order_subtotal]" value="%max_order_subtotal%">',
weight:'<input type="hidden" name="shipping_zone[rates][][weight_low]" value="%weight_low%"><input type="hidden" name="shipping_zone[rates][][weight_high]" value="%weight_high%">'},h=['<tr class="pasted-rate" style="opacity:.5;font-style:italic"><td><input name="shipping_zone[rates][][name]" value="%name%"></td><td>%range%</td><td>%amount%</td><td class="shipping-rate__actions type--right"><input type="hidden" name="shipping_zone[rates][][id]" value=""><input type="hidden" name="shipping_zone[rates][][price]" value="%price%"><input type="hidden" name="shipping_zone[rates][][type]" value="%type%">',
'Pasted<button class="btn btn--plain btn-remove-paste"><svg class="next-icon next-icon--size-10 next-icon--slate-lighter"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-remove"></use></svg></button></td></tr>'],k=$(".header__primary-actions .btn-primary"),g=function(a,b){var c=h.join(f[b]);for(d in a)a.hasOwnProperty(d)&&(c=-1<["max_order_subtotal","weight_high"].indexOf(d)&&!a[d]?c.replace("%"+d+"%",""):c.replace("%"+d+"%",a[d]));var d="";"weight"===b?d=parseInt(a.weight_low).toFixed(2)+
" "+Shopify.shop.settings.defaultWeightUnit+" - "+parseInt(a.weight_high).toFixed(2)+" "+Shopify.shop.settings.defaultWeightUnit:"price"===b&&(d=a.max_order_subtotal?Shopify.shop.settings.money_symbol+a.min_order_subtotal+" - "+Shopify.shop.settings.money_symbol+a.max_order_subtotal:Shopify.shop.settings.money_symbol+a.min_order_subtotal+" and up");c=c.replace("%range%",d);c=c.replace("%type%",b);return c=0===parseInt(a.price)?c.replace("%amount%","Free"):c.replace("%amount%",Shopify.shop.settings.money_symbol+
a.price)},n=0;n<b.length;n++)d[b[n]]=$('button[data-bind-event-click="'+b[n]+"BasedShippingRateModal.open(), "+b[n]+'BasedShippingRateModal.new()"]'),e[b[n]]=$('.table-wrapper[data-bind-show="'+b[n]+'BasedShippingRatesViewer.hasRates()"] .js-rates-container'),d[b[n]].length&&($('.copy-paste-rates[data-type="'+b[n]+'"]').length||d[b[n]].before('<button data-type="'+b[n]+'" class="copy-rates btn">Copy</button> <button data-type="'+b[n]+'" class="paste-rates btn" disabled>Paste</button> '));b=$("button.copy-rates");
d=$("button.paste-rates");b.on("click",function(b){b.preventDefault();var d=$(this);b=d.data("type");d.blur();d=A();localStorage["rates_"+b]=JSON.stringify(c(d[1],b));a()});d.on("click",function(a){a.preventDefault();var b=$(this);a=b.data("type");b.blur();if(V(localStorage["rates_"+a])&&"undefined"!==typeof e[a]&&(b=JSON.parse(localStorage["rates_"+a]),b.length)){A();$('div[data-bind-show="'+a+'BasedShippingRatesViewer.hasRates()"]')[0].classList.remove("hide");var c=$('div[data-bind-show="!'+a+
'BasedShippingRatesViewer.hasRates()"]');c.length&&c[0].classList.add("hide");for(c=0;c<b.length;c++)e[a].append(g(b[c],a));$(".btn-remove-paste").off("click").on("click",function(a){a.preventDefault();$(this).parents(".pasted-rate").remove()});k.length&&(k[0].disabled=!1,k[0].classList.remove("disabled"))}});a()}})},sa=function(){var a=$(".ui-layout__section--secondary .ui-layout__item:last"),c=$(".ui-title-bar");a.length?(a.prepend('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),
a=$("div.metafield-content"),u(a),0===$("#rte_extra").length&&($("#collection-description_iframecontainer").eq(0).after('<div class="sst" id="rte_extra"><a class="btn btn-slim fd-btn tooltip delete tooltip-bottom" id="clearformatting" href="#"><span class="tooltip-container"><span class="tooltip-label">Will remove all HTML on click</span></span>Purge html</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="clear-html-attributes" href="#"><span class="tooltip-container"><span class="tooltip-label">Removes HTML attributes except for <br>target,class,href & src</span></span>Clean HTML</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="createbackup" href="#"><span class="tooltip-container"><span class="tooltip-label">Save contents as metafield</span></span>Create Backup</a> <a class="btn btn-slim fd-btn" style="display:none;" id="restorebackup" href="#">Restore Backup</a> <a class="btn btn-slim fd-btn tooltip tooltip-bottom" id="save_images_to_meta" href="#"><span class="tooltip-container"><span class="tooltip-label">Add image paths to a metafield</span></span>Images to Metafields</a></div>'),
C())):f("ShopifyFD error : setup_custom_collections : target html not found",!0);if(c.length){var a=$("<ul/>",{"class":"segmented",id:"copy-object"}),b=$("<li/>"),d=$("<a/>",{"class":"fd-btn btn btn-separate",href:"#"}).html("Duplicate").on("click",function(a){a.preventDefault();$(this).addClass("disabled is-loading");$.getJSON(["//",location.host,location.pathname].join("")+".json",function(a){delete a.collection.disjunctive;delete a.collection.handle;delete a.collection.id;delete a.collection.products_count;
delete a.collection.published_at;delete a.collection.published_scope;delete a.collection.updated_at;a.collection.published=!1;a.collection.title+=" [copy]";var b={},c="/admin/custom_collections.json",d=a.collection.collection_type;delete a.collection.collection_type;"smart"===d?(b.smart_collection=a.collection,c="/admin/smart_collections.json"):b.custom_collection=a.collection;if("smart"===d)$.ajax({type:"POST",url:c,contentType:"application/json;charset=utf-8",data:JSON.stringify(b),success:function(a){try{var b=
a[Object.keys(a)[0]].id;"undefined"!==b&&r("/admin/collections/"+b)}catch(va){}},error:function(){f("Error duplicating.",!0)}});else{var e=0,h=window.location.pathname.split("/").pop(),k=function(a,d,e,g){"undefined"!==typeof a&&"undefined"!==typeof d&&("undefined"===typeof e&&(e=1),"undefined"===typeof g&&(g=[]),f("Duplicating collection, please wait..."),$.ajax({type:"GET",url:"/admin/collects.json?limit=250&fields=product_id&page="+e+"&collection_id="+a,success:function(h){g=g.concat(h.collects);
250*e>d?(b.custom_collection.collects=g,$.ajax({type:"POST",url:c,contentType:"application/json;charset=utf-8",data:JSON.stringify(b),success:function(a){try{var b=a[Object.keys(a)[0]].id;"undefined"!==b&&r("/admin/collections/"+b)}catch(wa){}},error:function(){f("Error duplicating.",!0)}})):k(a,d,++e,g)}}))};(function(){$.ajax({type:"GET",url:"/admin/collects/count.json?collection_id="+h,success:function(a){e=a.count;0<e&&k(h,e,1)}})})()}})});b.append(d);a.append(b);c.prepend(a)}else f("ShopifyFD error : setup_articles : Header button missing",
!0)},ta=function(){var a=$(".ui-title-bar .ui-title-bar__heading-group");if(a.length){var c=$("<ul/>",{"class":"segmented",id:"get_all_images"}),b=$("<li/>"),d=$("<a/>",{"class":"btn",href:"#",style:"margin-left:1em"}).html("Download file list").on("click",function(){var a=$(this);(function(){var b=[];a.addClass("is-loading").attr("style","margin-left:1em;text-indent: -9999px;");var c=function(d){"undefined"===typeof d&&(d="/admin/settings/files");$.ajax({url:d,success:function(d){d=$(d);for(var e=
d.find(".next-input.next-input--readonly"),g=0;g<e.length;g++)b.push(e[g].value);d=d.find("#assets-table").next(".next-card__section").find("a:last");d=d.length?d[0].href:"";-1<d.indexOf("direction=next")?c(d):(a.removeClass("is-loading").removeAttr("style"),b.length?(d="files-list-"+Math.floor(Date.now()/1E3)+".txt","undefined"===typeof d&&(d="blob-"+Math.floor(Date.now()/1E3)+".txt"),e=document.createElement("a"),document.body.appendChild(e),e.style="display: none",g=new Blob(["\ufeff",b],{type:"text/plain"}),
g=window.URL.createObjectURL(g),e.href=g,e.download=d,e.click(),window.URL.revokeObjectURL(g)):f("No files exist. Nothing to list.",!0))}})};c()})();return!1});b.append(d);c.append(b);a.after(c)}},W=function(a){a=$(".ui-layout__section--secondary .ui-layout__item:last");if(a.length){var c=$('<div class="ui-layout__item"><div class="next-card"></div></div>');c.find(".next-card").append('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>');
a.after(c);a=$("div.metafield-content");u(a)}else f("ShopifyFD error : setup_single_order : target html not found",!0)},ua=function(){var a=$('.no-wrap a[data-nested-link-target="true"]');if(!a.length)return!1;var c=!1;a.append('<div class="bubble hide fadein"><div class="bubble-content p"><div class="pr"><ul class="unstyled"></ul></div></div></div>').css({position:"relative"}).hover(function(){var a=$(this);c=setTimeout(function(){var b=a.find("ul").eq(0),c=a.attr("href");$("div.bubble").addClass("hide");
a.data("order")?a.find("div.bubble").removeClass("hide"):$.ajax({type:"GET",url:c+".json",success:function(c){if(c){for(var d=c.order.line_items,e=c.order.fulfillments,f="",h=0,k=d.length;h<k;h++)f+='<li style="white-space:normal">'+d[h].quantity+" &times; "+d[h].name+"</li>";c.order.fulfillment_status&&e.length&&(f+='<li style="white-space:normal;border-top: 1px solid #ccc;margin-top: .5em;padding-top: .5em;">Tracking#: <b>'+e[0].tracking_number+"</b></li>");a.data("order",f);b.html(f);a.find("div.bubble").removeClass("hide")}}})},
100)},function(){clearTimeout(c);$(this).find("div.bubble").addClass("hide")})},E=function(a){"undefined"!==typeof a?$(".seo-hide-button").addClass("active").attr("data-id",a).text("Hidden in Sitemap"):$(".seo-hide-button").removeClass("active").removeAttr("data-id").text(q.hide_from_sitemap)},t=function(){var a=y();$.getJSON(a,function(a){var b="";a=a.metafields;E();if(a.length){h("m",a);$("#metacount").text(a.length).removeClass("hide");for(var c=0,e=a.length;c<e;c++)b+='<option data-type="'+a[c].value_type+
'" data-id="'+a[c].id+'">'+a[c].namespace+"."+a[c].key+"</option>",k.metafields[a[c].id]={namespace:a[c].namespace,value:a[c].value,key:a[c].key},"backups"===a[c].namespace&&$("#restorebackup").show(),"seo"===a[c].namespace&&"hidden"===a[c].key&&1===a[c].value&&E(a[c].id);b=x+b}else $("#metacount").text("0").addClass("hide"),h("m",!1),$("#restorebackup").hide(),b=x;$("#metafieldselect").html(b);O()})};(function(){document.getElementsByTagName("html")[0].className+=" shopifyfd-loaded";da();Z();var a=
document.querySelectorAll('a[href="/admin/products"]');a.length&&(a[0].href="/admin/products?limit=250");a=document.querySelectorAll('a[href="'+[location.protocol,"//",location.host].join("")+'/admin/apps"]');a.length&&(a[0].href="/admin/apps/installed");setInterval(function(){k.cache.content=document.getElementById("content");if(!k.cache.content.classList.contains("loading")){if(!document.getElementById("shopifyfdnav")){var a=document.querySelectorAll(".ui-nav .ui-nav__group")[0];if(a){var b=document.createElement("div");
b.innerHTML='<ul id="shopifyfdnav" class="fadein ui-nav__group ui-nav__group--parent"><li class="ui-nav__item ui-nav__item--parent"><a href="https://freakdesign.com.au/pages/shopifyfd" target="_blank" class="ui-nav__link ui-nav__link--parent" style="color: #21c2a8;"><svg class="next-icon next-icon--size-20 next-icon--no-nudge" style="fill:#27c3aa"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-settings"></use> </svg><span class="ui-nav__label ui-nav__label--parent">ShopifyFD</span></a></li></ul>';
a.parentNode.insertBefore(b,a.nextSibling)}}var d=A(),a=!1,b=d[0],e=d[1],d=d[2];"next"===e||"prev"===e||b===h("alpha")&&e===h("omega")?"next"!==e&&"prev"!==e&&d!=k.queryString&&("products"!==b||isNaN(e)?"admin"===b&&"products"===e?a=!0:"admin"===b&&"redirects"===e&&(a=!0):a=!0):a=!0;if(a)if(k.alpha=b,k.omega=e,k.queryString=d,"customers"===b&&!isNaN(e))a=$(".ui-layout__section--secondary .ui-layout__item:last"),a.length?(b=$('<div class="ui-layout__item"><div class="next-card"></div></div>'),b.find(".next-card").append('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),
a.after(b),a=$("div.metafield-content"),u(a)):f("ShopifyFD error : setup_customers : target HTML not found");else if("articles"===b&&!isNaN(e))ia();else if("blogs"===b&&!isNaN(e))targetHTML=$(".ui-layout__section--secondary .ui-layout__item:last"),targetHTML.length?(targetHTML.prepend('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),
a=$("div.metafield-content"),u(a)):f("ShopifyFD error : setup_blogs : target html not found",!0);else if("collections"===b&&!isNaN(e))sa();else if("menus"===b&&!isNaN(e))la();else if("orders"===b&&!isNaN(e))W();else if("draft_orders"===b&&!isNaN(e))W("drafts");else if("pages"===b&&!isNaN(e))qa();else if("products"===b&&!isNaN(e))pa();else if("variants"===b&&!isNaN(e))a=$("#variant-edit-card"),a.length&&(a.after('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),
u($("div.metafield-content")));else if(!("admin"===b&&"apps"===e||"admin"===b&&"bulk"===e||"admin"===b&&"channels"===e))if("admin"===b&&"collections"===e)na();else if("admin"===b&&"discounts"===e)ha();else if("admin"!==b||"draft_orders"!==e)if("admin"!==b||"gift_cards"!==e)if("admin"===b&&"menus"===e)T();else if("admin"===b&&"links"===e)T();else if("admin"===b&&"orders"===e)ua();else if("admin"===b&&"products"===e)ka();else if("admin"===b&&"redirects"===e)ma();else if("admin"!==b||"reports"!==e)if("admin"===
b&&"themes"===e)S();else if("admin"!==b||"transfers"!==e)if("online_store"!==b||"preferences"!==e)"settings"===b&&"account"===e?$(".ui-annotated-section:last").after('<section class="ui-annotated-section"><div class="ui-annotated-section__annotation"><div class="ui-annotated-section__title"><h2 class="next-heading next-heading--no-margin">Purge / Delete all site content</h2></div><div class="ui-annotated-section__description"><p>Delete all content on the store to start fresh</p></div></div><div class="ui-annotated-section__content"><div class="next-card"><div class="next-card__section"><p>Coming soon...</p></div></div></div></section>'):
"settings"===b&&"files"===e?ta():"settings"===b&&"general"===e?(a=$("#settings-general section:first"),a.length&&(b=$("<section />",{"class":"ui-annotated-section"}),e=$("<div>",{"class":"ui-annotated-section__annotation"}),d=$("<div>",{"class":"ui-annotated-section__content"}),e.html('<div class="ui-annotated-section__title"><h2 class="next-heading next-heading--no-margin">Store Metafields</h2></div><div class="ui-annotated-section__description"><p>Edit your shop level metafields here. Review the <a target="_blank" href="http://docs.shopify.com/themes/liquid-documentation/objects/metafield">Shopify documentation</a> for more info on Metafields.</p></div>'),
d.html('<div class="next-card-metafield next-card next-card--aside fadein"><section class="next-card__section"><h3 class="next-heading">Metafields <svg class="next-icon next-icon--size-16 metafield-fullscreen-btn"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-website"></use></svg><span id="metacount" class="hide">0</span></h3><div class="metafield-content content"><i class="ico ico-20 ico-20-loading"></i></div></section></div>'),b.append(e,d),a.after(b),a=$("div.metafield-content"),
$(".next-card-metafield").removeClass("next-card--aside"),u(a))):"settings"===b&&"shipping"===e?$(".ui-annotated-section__annotation .ui-annotated-section__description").eq(2).append("<br><br><p>Shipping rates copy and paste has moved into each shipping zone.</p>"):"shipping_zones"!==b||isNaN(e)||ra()}},1E3);f("ShopifyFD loaded")})()}else f("Browser unsupported (classList)")})();